# Redis

## Redis是什么

Redis（Remote Dictionary Server，远程字典服务）是一款**开源的、高性能的键值对（Key-Value）数据库**，由 Salvatore Sanfilippo 于 2009 年开发，遵循 BSD 协议。它的核心特点是 “基于内存存储”，因此能提供毫秒级的读写响应速度，同时支持持久化、多种数据结构、分布式部署等能力，广泛用于缓存、会话存储、消息队列、实时分析等场景。

核心特性：

1.基于内存，性能高

2.支持多种数据结构

3.持久化机制

4.高可用与分布式支持：

1. **高性能提效**：内存存储支撑高读写，作缓存减轻数据库压力，还能通过批量操作减少网络开销；
2. **解决核心痛点**：提供分布式锁防资源竞争，作全局存储实现会话 / 配置同步，多种数据结构适配消息队列、排行榜等需求；
3. **高可用易扩展**：主从复制、哨兵保障服务不中断，集群分片支持水平扩容，突破单机限制；
4. **轻量易部署**：部署简单、资源占用低，适配容器化环境，能灵活融入分布式体系，随业务弹性调整。

| 对比维度 | Redis（键值数据库）                     | MySQL（关系型数据库）                      |
| -------- | --------------------------------------- | ------------------------------------------ |
| 存储方式 | 主要在内存，支持磁盘持久化              | 主要在磁盘，内存作为缓存                   |
| 数据模型 | 键值对，支持多种数据结构                | 二维表（行 + 列），遵循 SQL                |
| 事务支持 | 支持简单事务（无回滚）                  | 支持 ACID 事务（强一致性）                 |
| 查询能力 | 基于键查询，支持简单聚合（如 Set 交集） | 支持复杂 SQL 查询（联表、子查询等）        |
| 性能     | 毫秒级响应，单机并发高                  | 依赖索引，磁盘 I/O 较慢，并发较低          |
| 适用场景 | 缓存、会话、计数器、实时统计            | 业务数据存储（如订单、用户信息）、复杂查询 |

Redis的数据特点:

Redis里的value是简单的string类型

## 连接Redis

```go
func init(){
	client=redis.NewClient(&redis.Options{
    	Addr: "localhost",
    	DB: 0， //redis默认会创建0-15号DB，默认0
    	Username: "",
    	Password: "",
	})
    //能ping成功才说明连接成功
    if err:=client.Ping(context.Background().Err();err!=nil){
        slog.Error("connect to redis failed","error:",err)
    }else{
        slog.Info("connect to redis")
    }
}
```

